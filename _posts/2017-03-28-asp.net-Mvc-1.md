---
layout: post
title:  "Asp.net Mvc三层框架实践(一)"
date:   2017-03-28 14:34
categories: .net
tags: Mvc
author: Over air
mathjax: true
---
* content
{:toc}

### 简述
企业级项目，一开始就没有想过怎样的庞大框架，因为开始的压力也不会很大。所以可扩展性，成为了核心需求。
传统的三层架构。应用层、业务逻辑层、数据持久层。鉴于需要分隔服务器以减轻服务器压力，分割成Web服务器、业务服务器、数据库服务器；而这三者之间尤其是前后端的数据逻辑调用的合理、顺畅，是我需要记录的重点。

![图1.jpg](http://gitpages-1251551899.cosgz.myqcloud.com/%E5%9B%BE1.jpg)

* Web
前端应用服务，请求api接口，获取数据渲染页面。
1.搭建MVC框架，引入公共Model和接口调用类库。
2.使用bootstrap框架搭建移动端优先的前端页面框架。
3.根据业务需要，调用后端接口，并渲染页面。
* Web Api（逻辑服务）
搭建提供基于Http的无状态接口，处理web端的交互请求。有以下几方面关键：
1.在接口无状态的前提下，判断请求的权限等级及对应合法性。（重写Http请求，加上请求的合法性判断，类AOP切面判断）
2.提供或依据统一的数据模型，供前后端平滑交互。（Entity的请求和返回模型，构建依赖倒转关系。简化统一化请求代码）
3.访问数据库，进行逻辑化处理，持久化数据到数据库。
* SqlServer数据库
使用ibatis作为orm框架，在数据库交互效率和代码编写简洁的前提下，提高自由性和扩展性。
